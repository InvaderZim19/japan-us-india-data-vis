<!DOCTYPE html>
<html> 
  <head>
    <!-- Meta Tag -->
    <meta charset="utf-8">
    <!-- CSS Stylesheet -->
    <style type="text/css">
        svg {
    	   font: 10px sans-serif;
    	}

    	.caption {
    	  font-weight: bold;
    	}

    	.key path {
    	  display: none;
    	}

    	.key line {
    	  stroke: #000;
    	  shape-rendering: crispEdges;
    	}

    	.county-border {
    	  fill: none;
    	  stroke: #000;
    	  stroke-opacity: .3;
    	}
            
        .state-border {
          fill: none;
          stroke: #000;
          stroke-opacity: 1;
        }
      
        .tract-border {
          fill: none;
          stroke: #000;
          stroke-opacity: .3;
        }
    </style>
  </head>
  <body>
<!--
  	<script src="https://d3js.org/d3.v3.min.js"></script>
    <script src="https://d3js.org/topojson.v1.min.js"></script>
    <script src="https://d3js.org/d3-queue.v3.min.js"></script>
-->
    <svg width="960" height="1100"></svg>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://d3js.org/topojson.v2.min.js"></script>
    <h1 style = "text-align:center; color:#556B2F"><bold> Japan-US-India Data Visualization (wip) </bold></h1>
    <!-- Your D3.js code for making a Bar Graph -->
    <script type="text/javascript">
      
      var svg = d3.select("svg"),
          width = +svg.attr("width"),
          height = +svg.attr("height");

      var path = d3.geoPath();

      var color = d3.scaleThreshold()
          .domain([1, 10, 50, 200, 500, 1000, 2000, 4000])
          .range(d3.schemeOrRd[9]);

      var x = d3.scaleSqrt()
          .domain([0, 4500])
          .rangeRound([440, 950]);

      var g = svg.append("g")
          .attr("class", "key")
          .attr("transform", "translate(0,40)");

      d3.json("India.json", function(error, topology) {
        if (error) throw error;
        console.log(topology);
        console.log(topology.objects);
        console.log(topology.arcs);

        svg.append("g")
          .selectAll("path")
          .data(topojson.feature(topology, topology.objects.IND_adm1.geometries))
          .enter().append("path")
            .attr("fill", function(d) { return color(d.properties.density); })
            .attr("d", path);

//        svg.append("path")
//            .datum(topojson.feature(topology, topology.arcs))
//            .attr("fill", "none")
//            .attr("stroke", "#000")
//            .attr("stroke-opacity", 0.3)
//            .attr("d", path);
      });
      
//        // svg dimensions
//    	var width = 960,
//    		height = 900;
//        
//        // comma formatting
//		var formatNumber = d3.format(",d");
//
//        // map path
//		var path = d3.geo.path()
//		    .projection(null);
//      
//        // creating one set of colors
//		var color = d3.scale.threshold()
//		    .domain([1, 10, 50, 100, 500, 1000, 2000, 5000])
//		    .range(["#fee8c8", "#fdd49e", "#fdbb84", "#fc8d59", "#ef6548", "#d7301f", "#b30000", "#7f0000"]);
//
//		// A position encoding for the key only.
//		var x = d3.scale.linear()
//		    .domain([0, 5100])
//		    .range([0, 480]);
//      
//        // creates the xaxis for the legend
//		var xAxis = d3.svg.axis()
//		    .scale(x)
//		    .orient("bottom")
//		    .tickSize(13)
//		    .tickValues(color.domain())
//		    .tickFormat(function(d) { return d >= 100 ? formatNumber(d) : null; });
//        
//        // attaches the svg with the d3
//		var svg = d3.select("body").append("svg")
//		    .attr("width", width)
//		    .attr("height", height);
//      
//        // changes the position of the key
//		var g = svg.append("g")
//		    .attr("class", "key")
//		    .attr("transform", "translate(20,850)");
//      
//       d3.json("India.json", function(error, ind) {
//          if (error) throw error;
//          console.log(ind);
//
//          var tracts = topojson.feature(ind, ind.objects.IND_adm1);
//          console.log(tracts);
//         // Clip tracts to land.
//        svg.append("defs").append("clipPath")
//            .attr("id", "clip-land")
//            .append("path")
//            .datum(topojson.feature(ind, ind.objects))
//            .attr("d", path);
//            
//        // Group tracts by color for faster rendering.
//        svg.append("g")
//            .attr("class", "tract")
//            .attr("clip-path", "url(#clip-land)")
//            .selectAll("path")
//            .data(d3.nest()
//            .key(function(d) { return color(d.properties.population / d.properties.area * 2.58999e6); })
//            .entries(ind.geometries.features.filter(function(d) { return d.properties.area; })))
//            .enter().append("path")
//            .style("fill", function(d) { return d.key; })
//            .attr("d", function(d) { return path({type: "Feature", features: d.values}); });
//         
//
//        // Draw county borders.
//        svg.append("path")
//            .datum(topojson.mesh(ind, ind.objects.IND_adm1.geometries, function(a, b) { return a !== b; }))
//            .attr("class", "county-border")
//            .attr("d", path);
//        });
//      
//        d3.select(self.frameElement).style("height", height + "px"); 

    </script>
    
    
    <!-- Submission Info -->
    <div id="context"></div>
    <h4>Created by Karl Cassel and Amado Rubalcava</h4>
      
    <h4>Description: A visualization of (wip) </h4>
      
    <h4> Sources: </h4>
    <ul>
      <li> <a href="http://learnjsdata.com/read_data.html">How we read mutliple pieces of data.</a></li>
    </ul>
      
  </body>
</html>
